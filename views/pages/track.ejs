<!DOCTYPE html>
<html class="no-js" lang="zxx"> 
 
<head>
      <%- include('../partials/head.ejs'); %>  

         <style>  

         #trxres{
              display:none;
         }
 

         #trackbtn {
  background: linear-gradient(120deg, #3E80FF, #75A7FF, #3E80FF);
  background-size: 200% 100%;
  color: #fff;
  border: none;
  padding: 12px 24px;
  font-size: 16px;
  border-radius: 8px;
  cursor: pointer;
  animation: loadingAnimation 3s linear infinite;
  transition: all 0.3s ease;
}

.transaction-history {
    background-color: #1F3A66;
    color: #ffffff;
    padding: 20px;
    border-radius: 10px;
    max-width: 600px;  
    margin:15px auto;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.transaction-history h3 {
    text-align: center;
    margin-bottom: 15px;
    color: #3E80FF;
}

.history-list {
    max-height: 400px;
    overflow-y: auto;
    padding: 10px;
    border-top: 2px solid #3E80FF;
}

.history-item {
    background-color: #2A4A85;
    margin-bottom: 10px;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.history-item p {
    margin: 5px 0;
    font-size: 14px;
}

.history-item strong {
    color: #3E80FF;
}

/* Add custom scrollbar */
.history-list::-webkit-scrollbar {
    width: 8px;
}

.history-list::-webkit-scrollbar-thumb {
    background-color: #3E80FF;
    border-radius: 4px;
}
  

              .gridding{ 
                  min-width:100px;
                  display:grid;
                  margin-top:20px;
                  margin-bottom:20px;
                  grid-gap:20px; 
                  grid-template-columns:repeat(auto, minmax(250px, 3fr)); 
              }  

              .gridding button{ 
                width:100%; 
                border:none;
                color:black;
                font-weight:bold;
                background-color:lightgrey; 
                transition:ease-in-out 0.3s ;
                padding:15px;
              }   

              .gridding button:hover{
                 background-color:grey; 
                 color:white;
              } 
 
@keyframes loadingAnimation {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

        
         </style>
</head>

<body>
    <!--[if lte IE 9]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="https://browsehappy.com/">upgrade your browser</a> to improve
        your experience and security.
      </p>
    <![endif]-->
    <%- include('../partials/header.ejs'); %>

    <!-- Start Breadcrumbs -->
    <div class="breadcrumbs">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 offset-lg-3 col-md-12 col-12">
                    <div style="margin-top:80px" class="breadcrumbs-content">
                        <h1 class="page-title">Track Your Transactions</h1>
                        <ul class="breadcrumb-nav">
                            <li><a href="/">Home</a></li>
                            <li>Transaction Tracker</li>
                        </ul>
                    </div> 
                </div>
            </div>
        </div>
    </div>
    <!-- End Breadcrumbs -->

    <!-- Start track Area -->
    <div class="account-login section">
        <div class="container">
            <div class="row">
                <div class="card col-lg-6 offset-lg-3 col-md-10 offset-md-1 col-12">
                        <div class="card-body">
                            <div class="title">  <br><br>
                                <h3>Start Tracking Now</h3>
      <p>Use the form below to start tracking your transactions securely.</p>  
                            </div>    
                            <p>Choose a blockchain network</p>
                            <div class="gridding">
                                 <button id="bitcoin">Bitcoin</button> 
                                 <button id="ethereum">Ethereum</button>
                                 <button id="solana">Solana</button>
                            </div> 
                            
                    <form class="login-form inner-content" id="starttrack">
                            <div class="input-head"> 
                                <div class="form-group input-group">
                                    <label><i class="lni lni-wallet"></i></label>
                                    <input id="trackinp" class="form-control" type="text" placeholder="Enter Wallet Address" required>
                                </div>
                                
                            </div>
                            <div class="button">
                                <button id="trackbtn" class="btn" type="submit">Start Tracking</button>
                            </div>   
                            <br>
                            <p style="text-align:center">Scroll down to check the result</p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- End track area -->  

   <!-- Transaction History Section -->
<div id="trxres" class="transaction-history">
    <h3>Transaction History</h3>
    <div class="history-list">   
        <div class="history-item">
            <p><strong>Wallet Address:</strong> 0xdef...qrst</p>
            <p><strong>Network:</strong> Ethereum</p>
            <p><strong>Timestamp:</strong> 2025-01-03 8:10 PM</p>
            <p><strong>Status:</strong> Pending</p>
            <p><strong>Amount:</strong> 0.75 ETH</p>
        </div>
    </div>
</div>   <br><br>

  
    <!-- Start Footer Area -->   <%- include('../partials/footer.ejs'); %>
    <!-- ========================= JS here ========================= -->
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/tiny-slider.js"></script>
    <script src="assets/js/glightbox.min.js"></script>
    <script src="assets/js/count-up.min.js"></script>
    <script src="assets/js/main.js"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'8fdef4a349897767',t:'MTczNjIwMDU2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='../../cdn-cgi/challenge-platform/h/g/scripts/jsd/849bfe45bf45/maind41d.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"8fdef4a349897767","version":"2024.10.5","r":1,"serverTiming":{"name":{"cfExtPri":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"token":"9a6015d415bb4773a0bff22543062d3b","b":1}' crossorigin="anonymous"></script>
   
  <script> 



       var bitcoin = document.getElementById('bitcoin');
       var ethereum = document.getElementById('ethereum');
       var solana = document.getElementById('solana');   
   
       let choice = 0;  

       bitcoin.addEventListener('click', (b)=>{
             b.target.style.backgroundColor = 'grey';   
             ethereum.style.backgroundColor = 'lightgrey'; 
             solana.style.backgroundColor = 'lightgrey'; 
             choice = 1; 
       }); 

       ethereum.addEventListener('click', (e)=>{
             e.target.style.backgroundColor = 'grey';   
             bitcoin.style.backgroundColor = 'lightgrey'; 
             solana.style.backgroundColor = 'lightgrey'; 
             choice = 2;
       });

       solana.addEventListener('click', (s)=>{
             s.target.style.backgroundColor = 'grey';  
             ethereum.style.backgroundColor = 'lightgrey'; 
             bitcoin.style.backgroundColor = 'lightgrey'; 
             choice = 3;
       });    
        

       var starttrack = document.getElementById('starttrack');   
       starttrack.addEventListener('submit', async (e)=>{       
        e.preventDefault();  
        if(choice == 0) {
             alert('You must choose a network');
        }  else {
        var trackinp = document.getElementById('trackinp');  
             var trackbtn = document.getElementById('trackbtn'); 
             trackbtn.innerHTML = 'Processing'; 
             trackbtn.style.animationName = 'loadingAnimation';  
             trackbtn.style.animationDuration = '0.3s';
             trackbtn.style.animationIterationCount = 'infinite';    
             trackbtn.disabled = true; 
             trackbtn.style.opacity = 0.4;

             const data = {
                  address : trackinp.value,
                  network : choice,
             };
               

             try{
             const response = await fetch('/tracking', {
                  method : 'post',
                  body : JSON.stringify(data),
                  headers : {
                     'Content-Type' : 'application/json',
                     Accept : 'application/json',
                  },
             });  

             if(!response.ok){
                 throw response;
             }
             setTimeout(()=>{trackbtn.innerHTML = 'Collecting data';}, 3000); 
             setTimeout(()=>{trackbtn.innerHTML = 'Arranging data';}, 6000); 
             setTimeout(()=>{trackbtn.innerHTML = 'Data fetched';}, 9000);
             setTimeout(
                ()=>{alert('Data fetched successfully, scroll down for the result'); 
             trackbtn.style.animation = 'none';  
             trackbtn.disabled = false;  
             trackbtn.style.opacity = 2.4; 
             trackbtn.innerHTML = 'Start Tracking';
            }, 11000
        );
            }  
            
            catch(err) {   
                trackbtn.style.animation = 'none';
                trackbtn.style.opacity = 2.4;
                trackbtn.innerHTML = 'Start Tracking'; 
                trackbtn.disabled = false;
                 const error = await err.text();
                 alert(error);   
            }  
        }
       });
              
  </script>

</body>


</html>